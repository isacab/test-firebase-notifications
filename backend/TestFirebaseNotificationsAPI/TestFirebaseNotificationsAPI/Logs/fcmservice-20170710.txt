2017-07-10 00:01:13.245 +02:00 [Warning] Retrying
	RetryCount: 1
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:01:17.298 +02:00 [Warning] Retrying
	RetryCount: 2
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:02:29.384 +02:00 [Error] Could not send notification to all receivers.
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:12:39.057 +02:00 [Warning] Retrying
	RetryCount: 1
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:12:40.046 +02:00 [Warning] Retrying
	RetryCount: 2
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:12:43.520 +02:00 [Error] Could not send notification to all receivers.
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:20:59.691 +02:00 [Warning] Retrying
	RetryCount: 1
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:21:01.725 +02:00 [Warning] Retrying
	RetryCount: 2
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:22:33.424 +02:00 [Warning] Retrying
	RetryCount: 1
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:22:33.540 +02:00 [Warning] Retrying
	RetryCount: 2
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:22:39.631 +02:00 [Error] Unexpected exception.
2017-07-10 00:23:46.838 +02:00 [Warning] Retrying
	RetryCount: 1
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:23:46.956 +02:00 [Warning] Retrying
	RetryCount: 2
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:25:55.416 +02:00 [Warning] Retrying
	RetryCount: 1
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:25:55.533 +02:00 [Warning] Retrying
	RetryCount: 2
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:26:15.637 +02:00 [Error] Could not send notification to all receivers.
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at TestFirebaseNotificationsAPI.Services.FcmService.<SendToDevice>d__6.MoveNext()
2017-07-10 00:27:03.420 +02:00 [Warning] Retrying
	RetryCount: 1
	Delay: "00:00:00"
System.InvalidOperationException: A second operation started on this context before a previous operation completed. Any instance members are not guaranteed to be thread safe.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at Microsoft.EntityFrameworkCore.DbContext.RemoveRange(IEnumerable`1 entities)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.RemoveRange(IEnumerable`1 entities)
   at TestFirebaseNotificationsAPI.Repository.PushRegistrationRepository.Delete(IEnumerable`1 tokens)
   at TestFirebaseNotificationsAPI.Services.FcmService.UpdatePushRegistrations(Dictionary`2 cannonical, Dictionary`2 failure)
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:27:03.441 +02:00 [Warning] Retrying
	RetryCount: 1
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:27:03.490 +02:00 [Warning] Retrying
	RetryCount: 1
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:27:03.537 +02:00 [Warning] Retrying
	RetryCount: 2
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:27:03.556 +02:00 [Warning] Retrying
	RetryCount: 2
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:27:03.625 +02:00 [Warning] Retrying
	RetryCount: 2
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:27:05.054 +02:00 [Error] Could not send notification to all receivers.
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at TestFirebaseNotificationsAPI.Services.FcmService.<SendToDevice>d__6.MoveNext()
2017-07-10 00:27:06.034 +02:00 [Error] Unexpected exception.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. Any instance members are not guaranteed to be thread safe.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at Microsoft.EntityFrameworkCore.DbContext.RemoveRange(IEnumerable`1 entities)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.RemoveRange(IEnumerable`1 entities)
   at TestFirebaseNotificationsAPI.Repository.PushRegistrationRepository.Delete(IEnumerable`1 tokens)
   at TestFirebaseNotificationsAPI.Services.FcmService.UpdatePushRegistrations(Dictionary`2 cannonical, Dictionary`2 failure)
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at TestFirebaseNotificationsAPI.Services.FcmService.<SendToDevice>d__6.MoveNext()
2017-07-10 00:27:10.700 +02:00 [Error] Could not send notification to all receivers.
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at TestFirebaseNotificationsAPI.Services.FcmService.<SendToDevice>d__6.MoveNext()
2017-07-10 00:28:52.641 +02:00 [Warning] Retrying
	RetryCount: 1
	Delay: "00:00:00"
System.InvalidOperationException: A second operation started on this context before a previous operation completed. Any instance members are not guaranteed to be thread safe.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at Microsoft.EntityFrameworkCore.DbContext.RemoveRange(IEnumerable`1 entities)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.RemoveRange(IEnumerable`1 entities)
   at TestFirebaseNotificationsAPI.Repository.PushRegistrationRepository.Delete(IEnumerable`1 tokens)
   at TestFirebaseNotificationsAPI.Services.FcmService.UpdatePushRegistrations(Dictionary`2 cannonical, Dictionary`2 failure)
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:28:52.641 +02:00 [Warning] Retrying
	RetryCount: 1
	Delay: "00:00:00"
System.InvalidOperationException: A second operation started on this context before a previous operation completed. Any instance members are not guaranteed to be thread safe.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at Microsoft.EntityFrameworkCore.DbContext.RemoveRange(IEnumerable`1 entities)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.RemoveRange(IEnumerable`1 entities)
   at TestFirebaseNotificationsAPI.Repository.PushRegistrationRepository.Delete(IEnumerable`1 tokens)
   at TestFirebaseNotificationsAPI.Services.FcmService.UpdatePushRegistrations(Dictionary`2 cannonical, Dictionary`2 failure)
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:28:52.693 +02:00 [Warning] Retrying
	RetryCount: 1
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:28:52.803 +02:00 [Warning] Retrying
	RetryCount: 2
	Delay: "00:00:00"
System.InvalidOperationException: A second operation started on this context before a previous operation completed. Any instance members are not guaranteed to be thread safe.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at Microsoft.EntityFrameworkCore.DbContext.RemoveRange(IEnumerable`1 entities)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.RemoveRange(IEnumerable`1 entities)
   at TestFirebaseNotificationsAPI.Repository.PushRegistrationRepository.Delete(IEnumerable`1 tokens)
   at TestFirebaseNotificationsAPI.Services.FcmService.UpdatePushRegistrations(Dictionary`2 cannonical, Dictionary`2 failure)
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:28:52.821 +02:00 [Warning] Retrying
	RetryCount: 2
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:28:52.883 +02:00 [Warning] Retrying
	RetryCount: 2
	Delay: "00:00:00"
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
2017-07-10 00:28:54.370 +02:00 [Error] Could not send notification to all receivers.
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at TestFirebaseNotificationsAPI.Services.FcmService.<SendToDevice>d__6.MoveNext()
2017-07-10 00:28:55.403 +02:00 [Error] Could not send notification to all receivers.
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at TestFirebaseNotificationsAPI.Services.FcmService.<SendToDevice>d__6.MoveNext()
2017-07-10 00:28:57.910 +02:00 [Error] Could not send notification to all receivers.
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at TestFirebaseNotificationsAPI.Services.FcmService.<SendToDevice>d__6.MoveNext()
2017-07-10 00:52:18.122 +02:00 [Error] Could not send notification to all receivers.
TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException: Exception of type 'TestFirebaseNotificationsAPI.Exceptions.FcmMulticastException' was thrown.
   at TestFirebaseNotificationsAPI.Services.FcmService.<>c__DisplayClass6_0.<<SendToDevice>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at TestFirebaseNotificationsAPI.Services.FcmService.<SendToDevice>d__6.MoveNext()
